{"ast":null,"code":"import axios from \"axios\";\n\n//创建一个新的axios对象\nconst request = axios.create({\n  baseURL: process.env.VUE_APP_BSAEURL,\n  //后端的ip地址\n  timeout: 30000 //响应时间\n});\n\n// request拦截器\n// 可以在请求发送前对请求做一些处理\nrequest.interceptors.request.use(config => {\n  config.headers['Content-Type'] = 'application/json;charset=utf-8';\n  let token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers['token'] = token;\n  }\n  return config;\n}, error => {\n  console.log('request error' + error);\n  return Promise.reject(error);\n});\n\n//response拦截器\nrequest.interceptors.response.use(response => {\n  //res即前面的result.data\n  let result = response.data;\n  if (typeof result === 'string') {\n    result = result ? JSON.parse(result) : result;\n  }\n  return result;\n}, error => {\n  console.log('response error' + error);\n  return Promise.reject(error);\n});\nexport default request;","map":{"version":3,"names":["axios","request","create","baseURL","process","env","VUE_APP_BSAEURL","timeout","interceptors","use","config","headers","token","localStorage","getItem","error","console","log","Promise","reject","response","result","data","JSON","parse"],"sources":["D:/GitHub/Repository/SpringBoot_Shopping/SpringBoot-Shopping/vue2Project/src/utility/request.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n//创建一个新的axios对象\r\nconst request=axios.create({\r\n    baseURL:process.env.VUE_APP_BSAEURL, //后端的ip地址\r\n    timeout:30000 //响应时间\r\n})\r\n\r\n// request拦截器\r\n// 可以在请求发送前对请求做一些处理\r\nrequest.interceptors.request.use(config=>{\r\n    config.headers['Content-Type']='application/json;charset=utf-8';\r\n    let token= localStorage.getItem(\"token\")\r\n    if(token)\r\n    {\r\n        config.headers['token']=token\r\n    }\r\n    return config\r\n},error => {\r\n    console.log('request error'+error)\r\n    return Promise.reject(error)\r\n})\r\n\r\n//response拦截器\r\nrequest.interceptors.response.use(response=>{\r\n    //res即前面的result.data\r\n    let result=response.data\r\n    if(typeof result==='string')\r\n    {\r\n        result=result?JSON.parse(result):result\r\n    }\r\n    return result\r\n},error => {\r\n    console.log('response error'+error)\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default request"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAACD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAACC,OAAO,CAACC,GAAG,CAACC,eAAe;EAAE;EACrCC,OAAO,EAAC,KAAK,CAAC;AAClB,CAAC,CAAC;;AAEF;AACA;AACAN,OAAO,CAACO,YAAY,CAACP,OAAO,CAACQ,GAAG,CAACC,MAAM,IAAE;EACrCA,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,GAAC,gCAAgC;EAC/D,IAAIC,KAAK,GAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACxC,IAAGF,KAAK,EACR;IACIF,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAACC,KAAK;EACjC;EACA,OAAOF,MAAM;AACjB,CAAC,EAACK,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAAC,eAAe,GAACF,KAAK,CAAC;EAClC,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAd,OAAO,CAACO,YAAY,CAACY,QAAQ,CAACX,GAAG,CAACW,QAAQ,IAAE;EACxC;EACA,IAAIC,MAAM,GAACD,QAAQ,CAACE,IAAI;EACxB,IAAG,OAAOD,MAAM,KAAG,QAAQ,EAC3B;IACIA,MAAM,GAACA,MAAM,GAACE,IAAI,CAACC,KAAK,CAACH,MAAM,CAAC,GAACA,MAAM;EAC3C;EACA,OAAOA,MAAM;AACjB,CAAC,EAACN,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAACF,KAAK,CAAC;EACnC,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAed,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}